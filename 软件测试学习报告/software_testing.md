# 软件测试学习报告

## 测试基础

### 简介

- 软件测试是检测实际结果与目标结果是否匹配以及确保软件系统没有缺陷的活动，它涉及软件组件和系统组件的执行，以评估感兴趣的属性。软件测试可以识别与实际需求相反的错误、差距或缺失的需求。可以手动完成，也可以使用自动化工具完成。

- 软件的bug代价是极其昂贵的，有时甚至是危险的，能造成财产和生命的损失，为了确保软件的安全，软件测试是必要的。

### 软件测试7大准则

1. 穷尽测试是不可能的

    - 对于不同输入与不同的测试前置条件，需要的测试次数是难以想象的，因此不可能对应用进行彻底的测试。需要基于应用程序风险评估的最优测试量，问题的关键在于如何确定最优测试量，即最可能存在问题的地方。如：在测试一个操作系统时，当有多个活动在进行时，容易使系统崩溃，因此多任务活动对于该测试而言就是一个最优测试量。

2. 缺陷聚集

    - 少部分模块包含大部分的缺陷。根据帕累托效应在软件测试领域的应用：80%的问题集中在20%的程序模块中。

3. 杀虫剂悖论

    - 重复使用一种杀虫剂组合来消灭昆虫，久而久之将导致昆虫对杀虫剂产生抗药性，从而使该杀虫剂对昆虫无效。在软件测试中，如果进行相同的重复测试，这种方法对发现新的缺陷是无用的。为了克服这一点，测试用例需要定期的评审和修改，添加新的和不同的测试用例来帮助发现更多的缺陷。

4. 测试显示缺陷的存在

    - 测试只能显示缺陷的存在，不能说明不存在缺陷。软件测试降低未发现缺陷仍存在于软件中的可能性，即使未发现任何缺陷，也不能说明软件是完全正确的。

5. 没有缺陷谬论

    -  99%概率没有bug的软件仍然可能无法使用。系统针对错误的需求进行了彻底的测试会出现这种情况。软件测试不仅仅是发现缺陷，也是要检查软件是否 满足业务需要。没有错误是一种谬论，如果系统构建就是不可用的，不能满足用户需求的，那么找出和修复缺陷就毫无意义了。

6. 尽早测试

    - 测试应该在软件开发生命周期中越早开始越好，这样，需求或设计阶段的任意缺陷都会在早期捕获，早期的缺陷修复代价也会低很多。

7. 测试活动依赖于测试背景

    - 开发的软件不完全相同，根据应用程序的类型，所使用的测试方法、技术、类型都会不同。例如测试零售店的POS系统就会不同于测试ATM机。

### 瀑布模型与V模型

- 瀑布模型

    - 一个软件的开发会分为需求分析、设计、开发、测试、部署、维护等多个阶段。这些阶段的顺序执行就是开发生命周期中的瀑布模型。测试必须要等到编码结束开能进行。

    - 当开发项目很大，系统很复杂时，在需求阶段就会遗漏一些关键细节，或需求阶段正确，但在设计和构建软件时有失误。一切要等到编码完全完成才能发现，无疑成本是巨大的，不满足`尽早测试`准则。而且事实表明，需求阶段和设计阶段引入的缺陷占缺陷总数的一半。

- V模型

    - V模型较瀑布模型进步的一点是开发与测试并行，即开发的每一阶段都相应的测试。

### 软件测试生命周期 & 进入、退出准则

- 软件测试生命周期是执行软件测试的一系列活动，包括：
    - 需求分析阶段
    - 测试计划阶段
    - 测试用例开发阶段
    - 测试环境设置
    - 测试执行阶段
    - 测试周期结束阶段

    每一阶段都有相应的进入和退出标准以及活动和产出。

- 进入标准 : 进入标准给出了测试开始前必须完成的先决条件项。

- 退出标准 ：退出标准定义了完成测试之前必须完成的项目。

- 在理想的情况下，只有达到前一阶段的退出标准，才能进入下一阶段，虽然实际中并不这样。

- 需求分析阶段

    - 在这个阶段，测试团队从测试的角度研究需求，以确定可测试的需求，需要与客户、业务分析员、技术领导、系统架构师进行交互，来更加详细的了解需求。需求可以是功能性的也可以是非功能性的，如：系统性能、安全性能。此外对于给定项目，能否进行自动化测试也是在这一阶段决定的

    - 活动

        - 确定测试类型
        - 收集关于测试优先级和重点的详细信息
        - 准备需求跟踪矩阵
        - 确定测试环境信息
        - 自动测试可行性分析
    
    - 产出

        - 需求跟踪矩阵
        - 自动测试可行性报告

- 测试计划阶段

    - 该阶段，会对测试量和测试成本进行估计，准备并最终决定测试计划，测试策略也是在这阶段决定

    - 活动 
        - 为各种测试准备测试计划、策略文档
        - 测试工具选择
        - 测试工作量评估
        - 资源规划、确定角色和职责
        - 培训需求
    - 产出
        - 测试计划、策略文档
        - 工作量评估文档

- 测试用例开发阶段
    - 这个阶段设计测试用例、测试脚本的创建、验证和返工。测试数据的生成、验证、重新工作。

    - 活动
        - 创建测试用例、自动脚本
        - 评审测试用例和脚本
        - 生成测试数据

    - 产出
        - 测试用例、脚本
        - 测试数据

- 测试环境设置阶段

    - 测试环境决定了测试工作所处的软件和硬件条件，测试环境设置是测试过程的一个重要方面，它能与测试用例开发阶段并行。如果用户或开发者提供了测试环境，测试团队需要对测试环境进行准备检查（冒烟测试），而不用设置测试环境

    - 活动

        - 了解测试环境所需的体系架构、环境设置，为测试环境准备软件和硬件需求清单
        - 设置测试环境和测试数据
        - 在构建上执行冒烟测试
    
    - 产出
        - 具有测试数据设置的环境
        - 冒烟测试结果

- 测试执行阶段
    - 这个阶段中，测试者在准备好的测试计划和测试用例基础上进行测试，错误会报告给开发团队用于纠正，在这个过程中，测试会多次执行

    - 活动
        - 按计划执行测试
        - 记录测试结果和失败案例缺陷
        - 将缺陷映射到需求跟踪矩阵的用例中
        - 跟踪缺陷直至结束

    - 产出
        - 以执行状态完善需求跟踪矩阵
        - 根据结果跟新测试用例
        - 缺陷报告

- 测试周期结束阶段

    - 测试团队会讨论分析测试组件，来确定未来必须实现的策略，从当前测试周期中吸取教训。为未来测试消除流程瓶颈，为未来类似项目共享最佳实践

    - 活动
        - 根据时间、测试范围、成本、软件、关键业务目标和质量来评估周期评估标准
        - 根据上述参数准备测试指标
        - 记录从项目中学到的东西
        - 准备测试结束报告
        - 向客户提供产品质量的定性和定量报告
        - 分析测试结果，根据类型和严重程度找出缺陷分布
    
    - 产出
        - 测试结束报告
        - 测试指标

## 测试类型

### 手动测试

- 手动测试就是测试者不使用任何自动工具进行软件测试，是最基本的测试类型。对于一个新应用，在其能自动测试之前，必须进行手动测试。手动测试的工作量更大，但对于检查自动测试可行性是必要的。

- 手动测试的关键概念就是确保应用没有错误，它的工作符合指定的需求。测试套件或测试用例是指测试阶段设计的，并且应该具有100%的覆盖率。

- 应该确保报告的缺陷由开发人员修复，并且测试人员已经对修复的缺陷进行了重新测试

- 手动测试类型

    - 黑河测试
    - 白盒测试
    - 单元测试
    - 系统测试
    - 集成测试
    - 验收测试

    事实上任何软件测试类型都能进行手动测试和自动测试

- 手动测试流程

    1. 阅读理解软件项目文档和指导书
    2. 起草包含所有文档中提及需求的测试用例
    3. 评审测试用例
    4. 执行测试用例
    5. 报告错误
    6. 当错误修复后，再次执行失败测试用例来验证它们通过

### 自动测试

- 自动测试即使用自动化测试工具来执行测试用例,需要大量的资金和资源投入

- 连续的开发周期需要重复执行相同的测试套件，使用自动化工具，可以记录这个测试套件并根据需要重现。一旦测试套件自动化，就不需要人工干预，提高了测试自动化的投入回报率。当然，自动化的目标是减少手工运行的测试用例的数量，而不是完全消除手工测试。

- 为什么要自动化测试

    - 所有工作流、工作领域的测试都是时间和金钱的消耗
    - 手动测试多语言站点很困难
    - 自动化不需要人工干预，可以在无人看管的情况下进行自动测试
    - 自动化提升测试执行的速度
    - 自动化有助于增加测试覆盖率
    - 手动测试枯燥乏味，容易出错

- 适合进行自动化测试的测试用例

    - 业务关键测试用例
    - 重复执行的用例
    - 繁琐的或难于手动测试的测试用例
    - 耗时的测试用例

- 不适合自动化测试的测试用例

    - 新设计的测试用例或未进行过手动测试的测试用例
    - 需求经常变更的测试用例

- 自动测试过程

    - 测试工具选择
        - 测试工具的选择很大程度上依赖于应用程序基于的技术
    - 定义自动化范围，以下几点有助于决定范围
        - 对业务很重要的部分
        - 具有大量数据的场景
        - 跨应用程序的公共功能
        - 技术可行性
        - 业务组件被重用的程度
        - 测试用例的复杂性
        - 能够使用相同测试用例进行跨浏览器测试
    - 计划、设计、开发
        - 自动化工具选择
        - 框架设计
        - 自动化测试平台准备
        - 脚本和执行的计划和时间表
    - 测试执行
    - 维护
        - 随着向系统增加新的功能，需要为每个发布周期添加、检查和维护自动化脚本，维护对于提高自动化脚本的有效性是必要的。

- 自动化框架

    - 数据驱动自动化框架
    - 关键字驱动自动化框架
    - 模块化自动化框架
    - 混合自动化框架

- 自动化测试优点

    - 比手动测试快70%
    - 具有更宽的测试范围
    - 测试结果更可靠
    - 确保一致性
    - 节约时间和成本
    - 提高精确度
    - 执行时不需要人工干预
    - 提高效率
    - 具有更好的执行测试速度
    - 可重复利用测试脚本
    - 更彻底的测试
    - 实现更多执行周期
    - 使产品更早上市

- 选择自动化工具

    - 实现自动化测试，工具选择是一个挑战。需要确定需求，探索各种工具极其性能，设置对工具的期望，并进行验证。下面是选择工具的标准
        - 环境支持
        - 便于使用
        - 使用的脚本语言
        - 是否支持多种测试类型
        - 是否支持多种测试框架
        - 调试自动软件脚本易于实现
        - 培训成本最小化

### 手动测试与自动测试比较

- 手动测试
    - 手动测试可以快速准确的获得视觉反馈
    - 手动测试由人执行，容易出错，不太可靠
    - 手动测试十分耗时，需要消耗人力成本

- 自动测试
    - 自动测试能发现更多的漏洞
    - 自动化测试工具可能会比较昂贵，这会提高测试成本
    - 自动化测试比手动测试快的多

### 单元测试

- 单元测试 ：测试软件的单个独立单元或组件以验证其正确性，在应用的开发阶段进行，通常由开发者进行。

- 为什么要进行单元测试

    - 单元测试在开发周期早期修复bug，节约成本
    - 有助于开发人员了解代码，并快速做出更改
    - 好的单元测试可以作为项目文档
    - 有助于代码重用

- 如何进行单元测试

    - 单元测试通常情况下首选自动化测试，但也能进行手动测试
    - 自动化测试方法
        - 开发人员在应用程序中写一段测试代码用来测试功能，在发布时删除这些测试代码
        - 通过隔离功能来进行更严格的测试。将代码复制粘贴到它的测试环境中，而不是它的自然环境。隔离代码有助于揭示被测试代码与产品中其他单元或数据空间之间不必要的依赖关系，然后可以消除这些依赖。

- 单元测试优点

    - 通过单元测试了解单元的功能以及如何使用，获得对单元API的基本了解
    - 单元测试允许程序员重构代码而确保模块仍然正常工作（通过回归测试），为每个函数和方法编写测试用例，当某个变更引起错误时，可以快速识别和修复
    - 由于单元测试的模块化特性，可以测试项目的各个部分，而不必等到其他部分都完成

- 单元测试缺点

    - 单元测试不能捕获到程序中的每个错误，即使在最简单的程序中，也不能计算到所有路径
    - 单元测试的本质是关注代码单元，因此它不能捕获集成错误或系统错误

### 集成测试

- 集成测试 ：软件模块被逻辑的集成作为一个整体进行测试。一个典型的软件项目由多个软件模块组成，由不同的程序员编写。集成测试的重点是检查这些模块之间的数据通信

- 集成测试必要性

    - 即使软件模块已经进行了单元测试，由于某些原因应用中还存在缺陷，这些原因有：
        - 模块通常由软件开发人员设计，他们的理解和编程逻辑与其他程序员不同。因此，集成测试是必要的
        - 模块开发时，用户的需求很可能会发生变化。新的需求无法进行单元测试，因此需要集成测试
        - 软件模块与数据库的接口可能是错误的
        外部硬件接口可能是错误的
        - 异常处理不足导致错误

- 集成测试的方法策略
    - 大爆炸方法
    - 增量法。增量法又可分为
        - 自顶向下方法
        - 自底向上方法
        - 三明治式方法
    
    - 大爆炸方法 ：所有组件集成在一起，然后进行测试
        - 优点
            - 对小系统来说很方便
        - 缺点
            - 定位错误困难
            - 对于多接口测试，一些要被测试的接口链接很容易被忽略
            - 集成测试要等所有的模块都被设计好才能进行，因此测试团队的测试时间会缩短
            - 因为所有模块都一次测试，高风险的关键模块并没有隔离开来进行高优先级测试

    - 增量方法 ：连接两个或多个逻辑相关的模块来测试，然后添加其他相关的模块并对其进行适当的功能测试，继续这个过程，直至所有模块都成功地连接并测试
        - 自底向上集成测试
            - 优点
                - 错误定位容易
                - 不用花费时间在等待开发所有模块上
            - 缺点
                - 控制应用程序流的关键模块最后进行测试，容易出现缺陷
                
        - 自顶向下集成测试
            - 优点
                - 错误定位容易
                - 关键模块优先进行测试，主要设计错误能够发现和修复
            - 缺点
                - 较低层次的模块得不到充分测试

        - 三明治式集成测试
            - 三明治式集成测试是自底向上与自顶向下方式的结合

- 集成测试过程
    - 准备集成测试用例
    - 设计测试场景、用例、脚本
    - 执行测试用例，报告缺陷
    - 跟踪重新测试缺陷

- 集成测试进入、退出准则

    - 进入准则
        - 对模块/组件进行了单元测试
        - 高级的漏洞进行了修复
        - 所有模块编码完成并集成在一起
        - 集成测试计划、测试用例、场景完成并进行记录
        - 设置所需的测试场景
    
    - 退出准则

        - 集成测试成功
        - 已执行的测试用例被记录
        - 高级漏洞进行了修复
        - 提交发布说明和技术文件

### 系统测试

- 系统测试是一个对完整的、完全集成的软件产品的测试，通常情况下软件只是大型计算机系统的一个元素，软件需与其他软件和硬件系统交互。系统测试实际上是一系列不同的测试，他们的目的是测试整个计算机系统。

- 系统测试范围
    - 测试包括外设的完全集成的应用来检查组件与组件间和组件与整个系统间的交互，也称为端到端测试
    - 验证输入对应的输出
    - 测试用户对应用程序的体验

- 系统测试类型
    - 可用性测试，可用性测试主要关注于用户对应用程序的易用性、处理空间的灵活性及系统满足目标的能力
    - 回归测试，回归测试确保在开发过程中做出的任何改变不会导致新的bug，它也确保随着时间的推移，新软件模块的添加不会出现旧的错误。
    - 恢复测试，进行恢复测试的目的是证明软件解决方案是可靠的、值得依赖的，并且能够成功地从可能的崩溃中恢复
    - 迁移测试，迁移测试的目的是确保软件从旧的系统设施潜移到当前的系统设施而不出现任何问题
    - 功能测试（功能完整性测试），考虑可能缺失的功能，在测试期间测试人员列出附加功能列表
    - 硬件/软件测试

- 采用何种系统测试类型的影响因素
    - 测试人员为谁工作。 这是决定测试人员将使用的系统测试类型的主要因素，大公司使用的方法与中小公司不同。
    - 可用于测试的时间
    - 测试人员可用的资源
    - 软件测试人员的教育
    - 测试预算

## 参考资料
[Software Testing Tutorial](https://www.guru99.com/software-testing.html)